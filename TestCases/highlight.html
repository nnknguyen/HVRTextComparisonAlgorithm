<html>
    <head>
        <title>Highlight testing</title>
    </head>
    <body>
        <p>Original: I would not say, I couldn't have done the repair without you.</p>
        <p>Target: I wouldn't say I could not have done the repair without you.</p>
        Diff by words: <pre id="word"></pre>
        Diff by char: <pre id="char"></pre>
        Diff by sentence: <pre id="sentence"></pre>

        <script src="../diff.js"></script>
        <script>
        var one = "I would not say, I couldn't have done the repair without you.",
            other = "I wouldn't say I could not have done the repair without you.",
            color = '',
            span = null;

        let d = new Diff();

        var diffSent = diffSentences(one, other),
            diffChar = diffChars(one, other),
            diffWord = diffWords(one, other),
            displayWord = document.getElementById('word'),
            displayChar = document.getElementById('char'),
            displaySent = document.getElementById('sentence'),
            fragment = document.createDocumentFragment();

        diffWord.forEach(function(part){
          // green for additions, red for deletions
          // grey for common parts
          color = part.added ? 'green' :
            part.removed ? 'red' : 'grey';
          span = document.createElement('span');
          span.style.color = color;
          if(color == 'red')
            span.style.textDecoration = 'line-through';
          span.appendChild(document
            .createTextNode(part.value));
          fragment.appendChild(span);
        });
        displayWord.appendChild(fragment);
        color = '';
        span = null;
        fragment = document.createDocumentFragment();

        diffChar.forEach(function(part){
          // green for additions, red for deletions
          // grey for common parts
          color = part.added ? 'green' :
            part.removed ? 'red' : 'grey';
          span = document.createElement('span');
          span.style.color = color;
          if(color == 'red')
            span.style.textDecoration = 'line-through';
          span.appendChild(document
            .createTextNode(part.value));
          fragment.appendChild(span);
        });
        displayChar.appendChild(fragment);
        color = '';
        span = null;
        fragment = document.createDocumentFragment();

        diffSent.forEach(function(part){
          // green for additions, red for deletions
          // grey for common parts
          color = part.added ? 'green' :
            part.removed ? 'red' : 'grey';
          span = document.createElement('span');
          span.style.color = color;
          if(color == 'red')
            span.style.textDecoration = 'line-through';
          span.appendChild(document
            .createTextNode(part.value));
          fragment.appendChild(span);
        });
        displaySent.appendChild(fragment);

        </script>
    </body>
</html>